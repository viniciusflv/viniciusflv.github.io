---
import { Svg } from '@svjson/react';

import { meRicknmorty } from '@/assets/svg';
import Hero from '@/new/components/Hero.astro';
import Layout from '@/new/layout/Layout.astro';

const files = await Astro.glob('./posts/**/*.mdx');

const categories = files
  .filter(({ frontmatter }) => frontmatter.category)
  .map(({ frontmatter, url }) => ({
    label: frontmatter.category,
    value: url,
  }));

const posts = files
  .filter(({ frontmatter }) => frontmatter.categories)
  .sort((a, b) => {
    const dateA = new Date(a.frontmatter.date).setHours(24);
    const dateB = new Date(b.frontmatter.date).setHours(24);

    return dateB - dateA;
  });

const meta = {
  title: 'Welcome to my personal website!',
  keywords: 'programming,front-end,javascript,typescript,react,technologies',
  description: `
    Here I talk about my experiences and technologies,
    that I'm passionate about.
  `,
};
---

<Layout {...meta}>
  <Hero>
    <h1>Welcome to my personal website!</h1>
    <h2>
      Here I talk about my experiences and technologies, that I'm passionate
      about.
    </h2>
    <a href="">link</a>

    <div
      slot="image"
      class="flex justify-end dark:text-dark-darkest text-dark-comment overflow-hidden -mb-48"
    >
      <Svg alt="Me as a Rick and Morty Character" src={meRicknmorty as any} />
    </div>
  </Hero>
  <div class="flex h-[200vh]">96</div>
</Layout>
